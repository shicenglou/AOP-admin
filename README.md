# 农情小程序简单介绍

spring boot 2.3.3

MySQL 8.0.21

MP+jdbc+代码生成器

## 数据接入

接口：/dailyData	POST

```json
{
    "hum":"${hum}",
    "temp":"${temp}",
    "light":"${light}",
    "led":"${led}",
    "beep":"${beep}"
}
```

全空数据不保存，过滤垃圾数据

## 环境历史数据

接口：/aopadmin/environment/historyEnv?startTime=2022-06-21 01:00:00&endTime=2022-06-25 21:00:00&target=3

startTime	起始时间

endTime	 结束时间

target		  时间频率：1，分钟	2，小时	3，天	4，周

返回参数示意

```json
{
    "success": true,
    "message": "操作成功！",
    "code": 200,
    "result": {
        "beep": [
            0.0,
            0.0,
            0.0,
            0.0,
            0.0
        ],
        "hum": [
            48.17,
            0.0,
            0.0,
            28.63,
            35.74
        ],
        "temp": [
            26.83,
            0.0,
            0.0,
            27.27,
            26.18
        ],
        "light": [
            102.88,
            0.0,
            0.0,
            92.97,
            95.63
        ],
        "co2": [
            -1.0,
            0.0,
            0.0,
            -1.0,
            -1.0
        ],
        "led": [
            0.0,
            0.0,
            0.0,
            0.0,
            0.0
        ],
        "time": [
            "2022-06-20T17:00:00.000+00:00",
            "2022-06-21T17:00:00.000+00:00",
            "2022-06-22T17:00:00.000+00:00",
            "2022-06-23T17:00:00.000+00:00",
            "2022-06-24T17:00:00.000+00:00"
        ]
    },
    "timestamp": 1678683179691
}
```

## 水质数据同上面两个接口

数据导入：/water/add	POST

历史数据：/water/history	GET